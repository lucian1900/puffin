$load 'rosella/test.pbc';
$load 'type.pbc';

function boot() {    
    var o = new Python.type('object', null);
    var t = new Python.type('type', null, o);

    t.__class__ = t;
    o.__class__ = t;

    return o, t;
}

class Testtype {
    

    function type_class() {
        var o; var t; :(o, t) = boot();
        self.assert.same(t.__class__, t);
    }

    function type_repr() {
        var o; var t; :(o, t) = boot();
        self.assert.equal(t.get('__repr__')(t), "<class 'type'>");
    }

    function object_class() {
        var o; var t; :(o, t) = boot();
        self.assert.same(o.__class__, t);
    }

    function object_repr() {
        var o; var t; :(o, t) = boot();
        self.assert.equal(o.get('__repr__')(o), "<class 'object'>");
    }
}


function main() {
    using Rosella.Test.test;
    test(class Testtype);
}

